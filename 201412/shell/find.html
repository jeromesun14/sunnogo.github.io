<!DOCTYPE html>





<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 3.8.0">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '7.3.0',
    sidebar: {"position":"right","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    search: {
      root: '/',
      path: 'search.xml'
    },
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="Linux命令行查找文件">
<meta name="keywords" content="linux,command,find">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux命令行查找文件 - find">
<meta property="og:url" content="http://sunyongfeng.com/201412/shell/find.html">
<meta property="og:site_name" content="孙勇峰的部落格">
<meta property="og:description" content="Linux命令行查找文件">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-04-17T09:58:07.090Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux命令行查找文件 - find">
<meta name="twitter:description" content="Linux命令行查找文件">
  <link rel="canonical" href="http://sunyongfeng.com/201412/shell/find">


<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Linux命令行查找文件 - find | 孙勇峰的部落格</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?20ef80920f0a54cb0bbdbe9ba6c4f83f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">孙勇峰的部落格</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Keep it simple, stupid</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
    <ul id="menu" class="menu">
        
        
        
          
          <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-commonweal">
      
    

    <a href="/404.html" rel="section"><i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>Commonweal 404</a>

  </li>
        <li class="menu-item menu-item-search">
          <a href="javascript:;" class="popup-trigger">
          
            <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
        </li>
      
    </ul>
    

    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>


    </div>
</nav>

</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://sunyongfeng.com/201412/shell/find.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sunnogo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/default_avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="孙勇峰的部落格">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">Linux命令行查找文件 - find

              
            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2014-12-25 23:01:18" itemprop="dateCreated datePublished" datetime="2014-12-25T23:01:18+08:00">2014-12-25</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2019-04-17 17:58:07" itemprop="dateModified" datetime="2019-04-17T17:58:07+08:00">2019-04-17</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/shell/" itemprop="url" rel="index"><span itemprop="name">shell</span></a></span>

                
                
              
            </span>
          

          
            
  
  <span class="post-meta-item">
    
    <span class="post-meta-item-icon">
      <i class="fa fa-comment-o"></i>
    </span>
    
      <span class="post-meta-item-text">Comments: </span>
    
  
    <a href="/201412/shell/find.html#comments" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="201412/shell/find.html" itemprop="commentCount"></span>
    </a>
  </span>
  
  
          <br>
            <div class="post-description">Linux命令行查找文件</div>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>find - search for files in a directory hierarchy<br>按照目录等级搜索文件。</p>
<p>基本命令格式：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="builtin-name">find</span> [path<span class="built_in">..</span>.] [expression]</span><br></pre></td></tr></table></figure>
<h1 id="基础用法"><a href="#基础用法" class="headerlink" title="基础用法"></a>基础用法</h1><h2 id="查找本目录下特定名称"><a href="#查找本目录下特定名称" class="headerlink" title="查找本目录下特定名称"></a>查找本目录下特定名称</h2><p><code>find . -name filename</code>可用于查找本目录下一个特定名称的文件。<code>.</code>表示当前路径，<code>filename</code>表示待查找的文件。下文几乎所有的例子的path都使用当前路径。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">查找特定文件hello.c</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test</span><span class="variable">$ </span>find . -name hello.c</span><br><span class="line">./hello/hello.c</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="查找特定后缀的文件"><a href="#查找特定后缀的文件" class="headerlink" title="查找特定后缀的文件"></a>查找特定后缀的文件</h2><p>上述<code>filename</code>支持通配符，因此可简单实现按类型查找文件等功能。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">查找后缀为.c的文件</span><br><span class="line">sunnogo@a3e420:~/test$ find . -name *.c</span><br><span class="line">./script/prof.c</span><br><span class="line">./hello/hello.c</span><br><span class="line">./tdef/test.c</span><br><span class="line">./cmd_line/config_file/parse_conf.c</span><br><span class="line">./config_file/parse_conf.c</span><br></pre></td></tr></table></figure></p>
<h2 id="查找模糊文件名的文件"><a href="#查找模糊文件名的文件" class="headerlink" title="查找模糊文件名的文件"></a>查找模糊文件名的文件</h2><p>在使用过程中，大家可能不记得某个文件的全名，但是大概记得文件名的某一段关键字符。这时通配符就又被派上用场了：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">查找名字带parse的文件</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test</span><span class="variable">$ </span>find . -name *parse*</span><br><span class="line">./cmd_line/config_file/parse_conf</span><br><span class="line">./cmd_line/config_file/parse_conf.c</span><br><span class="line">./config_file/parse_conf</span><br><span class="line">./config_file/parse_conf.c</span><br></pre></td></tr></table></figure></p>
<h1 id="进阶用法"><a href="#进阶用法" class="headerlink" title="进阶用法"></a>进阶用法</h1><p>如果find命令的参数后接的数值，则有如下几种表示方式：</p>
<ul>
<li><code>+n</code>，表示大于n</li>
<li><code>-n</code>，表示小于n</li>
<li><code>n</code>，表示等于n</li>
</ul>
<h2 id="按大小查找文件"><a href="#按大小查找文件" class="headerlink" title="按大小查找文件"></a>按大小查找文件</h2><p><code>find . [-name filename] -size [+|-]n[b|c|w|k|M|G]</code><br>其中：</p>
<ul>
<li><code>-size</code>，表示只输出文件大小大于/小于/等于特定值n的文件</li>
<li>大小的单位如下，注意此处单位的大小写，k是小写的。<ul>
<li>b表示512字节的块</li>
<li>c表示字节</li>
<li>w表示双字节</li>
<li>k表示1024字节</li>
<li>M表示1024kB</li>
<li>G表示1024MB</li>
</ul>
</li>
</ul>
<p>例子中用到的-ls参数是非posix标准参数，这里只是为了更好展示查找结果才使用。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">查找当前目录及子目录中，所有文件大小大于4KB的文件</span><br><span class="line">sunnogo@a3e420:~/test$ find . -size +4k -ls</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello/hello</span><br><span class="line">8130650  <span class="number"> 20 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo    <span class="number"> 17967 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello/hello.i</span><br><span class="line">7219878  <span class="number"> 12 </span>-rw-r--r--  <span class="number"> 1 </span>sunnogo  sunnogo    <span class="number"> 12288 </span>Jul<span class="number"> 24 </span><span class="number"> 2013 </span>./.hello.c.swp</span><br><span class="line">7209916   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7122 </span>Jan<span class="number"> 17 </span><span class="number"> 2013 </span>./tdef/test</span><br><span class="line">7340928   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7702 </span>Mar<span class="number"> 19 </span><span class="number"> 2013 </span>./cmd_line/config_file/parse_conf</span><br><span class="line">7996916   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7702 </span>Mar<span class="number"> 19 </span><span class="number"> 2013 </span>./config_file/parse_conf</span><br><span class="line"></span><br><span class="line">查找当前目录及子目录中，所有文件大小小于4KB的文件</span><br><span class="line">sunnogo@a3e420:~/test$ find . -size -4k -ls</span><br><span class="line">7340612   <span class="number"> 4 </span>-rwxrwxr-x  <span class="number"> 3 </span>sunnogo  sunnogo       <span class="number"> 94 </span>Jun<span class="number"> 21 </span><span class="number"> 2013 </span>./script/link.sh</span><br><span class="line">7340612   <span class="number"> 4 </span>-rwxrwxr-x  <span class="number"> 3 </span>sunnogo  sunnogo       <span class="number"> 94 </span>Jun<span class="number"> 21 </span><span class="number"> 2013 </span>./script/if.sh</span><br><span class="line">7340612   <span class="number"> 4 </span>-rwxrwxr-x  <span class="number"> 3 </span>sunnogo  sunnogo       <span class="number"> 94 </span>Jun<span class="number"> 21 </span><span class="number"> 2013 </span>./script/lnlink.sh</span><br><span class="line">7340881   <span class="number"> 0 </span>lrwxrwxrwx  <span class="number"> 1 </span>sunnogo  sunnogo        <span class="number"> 5 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./script/symbol.sh -&gt; if.sh</span><br><span class="line">7340895   <span class="number"> 0 </span>lrwxrwxrwx  <span class="number"> 1 </span>sunnogo  sunnogo        <span class="number"> 5 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./script/lnsymbol.sh -&gt; if.sh</span><br><span class="line">7340899   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 519 </span>Nov<span class="number"> 12 </span><span class="number"> 2013 </span>./script/prof.c</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">查找当前目录及子目录文件中，所有文件大小等于4KB的文件。</span><br><span class="line">sunnogo@a3e420:~/test$ find . -size 4k -ls</span><br><span class="line">7209663   <span class="number"> 4 </span>drwxrwxr-x <span class="number"> 11 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 26 </span>00:22 .</span><br><span class="line">7340537   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./script</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">7342618   <span class="number"> 4 </span>drwxr-xr-x  <span class="number"> 3 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./mv</span><br><span class="line">7342622   <span class="number"> 4 </span>drwxr-xr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./mv/dir</span><br><span class="line">7341100   <span class="number"> 4 </span>drwxr-xr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./touch</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<h2 id="按权限查找文件"><a href="#按权限查找文件" class="headerlink" title="按权限查找文件"></a>按权限查找文件</h2><p>Linux文件权限的格式有两种，这在<a href="http://sunnogo.tk/201402/shell/ls.html" target="_blank" rel="noopener">ls</a>一文的“查看文件权限信息”中有详细说明。每个文件供给三种用户使用（owner、group、other），每种用户有可读（readable）、可写（writable）、可执行（executable）三种权限。因此一个文件有九种基本权限。</p>
<ul>
<li>数值格式。假设有个文件的权限是“751”，则“7”表示文件的owner可读、可写、可执行，“5”表示文件所属group可读、可执行，“1”表示other用户可执行。</li>
<li>符号格式，以r表示可读、w表示可写、x表示可执行。一般配以o表示owner、g表示group、o表示other。</li>
</ul>
<p>find命令按文件权限查找文件有两种格式：</p>
<ul>
<li><code>find -perm -mode</code>，All of the permission bits mode are set for the file，即目标文件的权限要匹配到mode中所有允许的权限，但未涉及的权限可有可无；</li>
<li><code>find -perm /mode</code>，Any of the permission bits mode are set for the file，即查找到的文件只要匹配到mode中允许的一种权限即可；</li>
</ul>
<p>如下例中的<code>find . -perm -700</code>表示查找权限至少是owner可读、可写、可执行的文件。如<code>ls</code>显示的结果，只有文件hello满足此条件。注意文件hello还包含group可读、可写可执行权限以及other的可读、可执行权限。<br><code>find . -perm /700</code>的结果与<code>find . -perm -700</code>的结果就有明显差异，几乎把本目录中的所有文件都打出来了。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">sunnogo@a3e420:~/test/hello$ ls -al</span><br><span class="line">total 48</span><br><span class="line">drwxrwxr-x <span class="number"> 2 </span>sunnogo sunnogo <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">drwxrwxr-x<span class="number"> 11 </span>sunnogo sunnogo <span class="number"> 4096 </span>Dec<span class="number"> 26 </span>00:22 ..</span><br><span class="line">-rwxrwxr-x <span class="number"> 1 </span>sunnogo sunnogo <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 hello</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo  <span class="number"> 104 </span>Jul<span class="number"> 24 </span><span class="number"> 2013 </span>hello.c</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo    <span class="number"> 0 </span>Dec<span class="number"> 20 </span>22:00 .hello.hide</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo<span class="number"> 17967 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>hello.i</span><br><span class="line">-rw-rw-rw- <span class="number"> 1 </span>sunnogo sunnogo <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>hello.o</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo  <span class="number"> 491 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>hello.s</span><br><span class="line"></span><br><span class="line">sunnogo@a3e420:~/test/hello$ find . -perm -700 -ls </span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line"></span><br><span class="line">sunnogo@a3e420:~/test/hello$ find . -perm /700 -ls </span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">8127134   <span class="number"> 0 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo        <span class="number"> 0 </span>Dec<span class="number"> 20 </span>22:00 ./.hello.hide</span><br><span class="line">8131706   <span class="number"> 4 </span>-rw-rw-rw-  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello.o</span><br><span class="line">8130651   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 491 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello.s</span><br><span class="line">7219321   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 104 </span>Jul<span class="number"> 24 </span><span class="number"> 2013 </span>./hello.c</span><br><span class="line">8130650  <span class="number"> 20 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo    <span class="number"> 17967 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello.i</span><br><span class="line"></span><br><span class="line">sunnogo@a3e420:~/test/hello$ find . -perm /003 -ls</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">8131706   <span class="number"> 4 </span>-rw-rw-rw-  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello.o</span><br></pre></td></tr></table></figure>
<p>mode也可以使用符号格式，如下例子使用符号格式实现<code>find . -perm -700与find . -perm /003</code>。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">等同“find . -perm -700”</span><br><span class="line">sunnogo@a3e420:~/test/hello$ find . -perm -u+r,u+w,u+x -ls</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line"></span><br><span class="line">等同“find . -perm /003”</span><br><span class="line">sunnogo@a3e420:~/test/hello$ find . -perm /o+w,o+x -ls</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">8131706   <span class="number"> 4 </span>-rw-rw-rw-  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello.o</span><br></pre></td></tr></table></figure>
<h2 id="按时间查找文件"><a href="#按时间查找文件" class="headerlink" title="按时间查找文件"></a>按时间查找文件</h2><p>Linux文件相关时间属性详见<a href="http://sunnogo.tk/201402/shell/ls.html" target="_blank" rel="noopener">ls</a>一文中“常见文件属性信息汇总”小节的描述。</p>
<ul>
<li>按访问时间查找（access time，atime）<ul>
<li><code>-amin n</code>，查找在此前第[n - 1, n]分钟的期间被访问的文件（当n不等于0时为如上结论，如果n等于0，默认无输出，该文件的access time是否在未来的时间）。</li>
<li><code>-anewer file</code>，查找access time比文件file晚的文件</li>
<li><code>-atime n</code>，查找在此前第[(n - 1)× 24, n × 24]小时的期间被访问的文件</li>
</ul>
</li>
</ul>
<p>注意本章一开头对find的数值参数n的描述，+n表示大于n的情况，-n表示小于n的情况，同样适合于本小节所描述的参数。用于实现<strong>查找某个时间点被访问以前或之后的文件</strong>，这才是我们最想要的用途。注意此时的时间不再是个区间，而就是个时间点。具体用法如下例所述。</p>
<p>上述的时间期间可能不好理解，详见本文后面的小节“理解按时间查找文件中时间期间的含义”。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>touch -at <span class="number">12262300</span> hello.i</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>stat hello.i | grep <span class="string">"Access: 2014"</span></span><br><span class="line"><span class="symbol">Access:</span> <span class="number">2014</span>-<span class="number">12</span>-<span class="number">26</span> <span class="number">23</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span>.<span class="number">000000000</span> +080<span class="number">0</span></span><br><span class="line"></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>date</span><br><span class="line">Fri Dec <span class="number">26</span> <span class="number">23</span><span class="symbol">:</span><span class="number">14</span><span class="symbol">:</span>08 CST <span class="number">2014</span></span><br><span class="line"></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin <span class="number">15</span></span><br><span class="line">./hello.i</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin -<span class="number">14</span></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin -<span class="number">15</span></span><br><span class="line">./hello.i</span><br></pre></td></tr></table></figure>
<ul>
<li>按状态变动时间查找（change time，ctime），命令与access time类似<ul>
<li><code>-cmin n</code></li>
<li><code>-cnewer file</code></li>
<li><code>-ctime n</code></li>
</ul>
</li>
<li>按修改时间查找（modify time，mtime）<ul>
<li><code>-mmin n</code></li>
<li><code>-mnewer file</code>，<code>-newer file</code>看似功能与本选项一致。</li>
<li><code>-mtime n</code></li>
</ul>
</li>
</ul>
<h2 id="按文件类型查找文件"><a href="#按文件类型查找文件" class="headerlink" title="按文件类型查找文件"></a>按文件类型查找文件</h2><p>Linux文件相关时间属性详见<a href="http://sunnogo.tk/201402/shell/ls.html" target="_blank" rel="noopener">ls</a>一文中“常见文件属性信息汇总”小节的描述。</p>
<p><code>find PATH -type file_type</code>，文件类型file_type包含如下几种：</p>
<ul>
<li>b，块设备文件</li>
<li>c，字符设备文件</li>
<li>d，目录文件</li>
<li>p，有名管道文件</li>
<li>f，普通文件</li>
<li>l，符号链接文件</li>
<li>s，socket文件</li>
</ul>
<p>以下是样例：<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sunnogo@a3e420:~/test$ find . -type d -ls</span><br><span class="line">7209663   <span class="number"> 4 </span>drwxrwxr-x <span class="number"> 11 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 26 </span>00:22 .</span><br><span class="line">7340537   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./script</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">sunnogo@a3e420:~/test$ find . -type l -ls</span><br><span class="line">7340881   <span class="number"> 0 </span>lrwxrwxrwx  <span class="number"> 1 </span>sunnogo  sunnogo        <span class="number"> 5 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./script/symbol.sh -&gt; if.sh</span><br><span class="line">7340895   <span class="number"> 0 </span>lrwxrwxrwx  <span class="number"> 1 </span>sunnogo  sunnogo        <span class="number"> 5 </span>Feb<span class="number"> 23 </span><span class="number"> 2014 </span>./script/lnsymbol.sh -&gt; if.sh</span><br></pre></td></tr></table></figure></p>
<h2 id="多条件查找"><a href="#多条件查找" class="headerlink" title="多条件查找"></a>多条件查找</h2><p><code>find</code>命令支持运算符，允许多个expression进行计算。主要运算符有：</p>
<ul>
<li><code>()</code>，和四则运算一样，表示优先执行括号内的表达式；</li>
<li><code>! expr</code>，类似逻辑运算的not，表示对表达式expr的结果取反；</li>
<li><code>expr1 -a expr2</code>，类似逻辑运算的and，表示expr1和expr2进行与运算。类似C语言的短路求值(short-circuit evalution)，若expr1为假，就不会计算expr2；</li>
<li><code>expr1 -o expr2</code>，类似逻辑运算的or，表示expr1和expr2进行或运行。同样使用短路求值，若expr1为真，则不会计算expr2</li>
</ul>
<p>事实上<code>find</code>命令也有<code>-not</code>、<code>-and</code>、<code>-or</code>选项等同于上述三种运算符，但是这三种运算符是非POSIX兼容的，使用时需要注意。</p>
<figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">sunnogo@a3e420:~/test$ ls -al hello/</span><br><span class="line">total 48</span><br><span class="line">drwxrwxr-x <span class="number"> 2 </span>sunnogo sunnogo <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 .</span><br><span class="line">drwxrwxr-x<span class="number"> 12 </span>sunnogo sunnogo <span class="number"> 4096 </span>Dec<span class="number"> 26 </span>23:27 ..</span><br><span class="line">-rwxrwxr-x <span class="number"> 1 </span>sunnogo sunnogo <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 hello</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo  <span class="number"> 104 </span>Jul<span class="number"> 24 </span><span class="number"> 2013 </span>hello.c</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo    <span class="number"> 0 </span>Dec<span class="number"> 20 </span>22:00 .hello.hide</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo<span class="number"> 17967 </span>Dec<span class="number"> 26 </span>23:02 hello.i</span><br><span class="line">-rw-rw-rw- <span class="number"> 1 </span>sunnogo sunnogo <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>hello.o</span><br><span class="line">-rw-rw-r-- <span class="number"> 1 </span>sunnogo sunnogo  <span class="number"> 491 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>hello.s</span><br><span class="line"></span><br><span class="line">查找文件名为"hello"开头、且至少有一种用户有写权限的文件</span><br><span class="line">sunnogo@a3e420:~/test$ find . -name "hello*" -a -perm /a+w -ls</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello/hello</span><br><span class="line">8131706   <span class="number"> 4 </span>-rw-rw-rw-  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello/hello.o</span><br><span class="line">8130651   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 491 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello/hello.s</span><br><span class="line">7219321   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 104 </span>Jul<span class="number"> 24 </span><span class="number"> 2013 </span>./hello/hello.c</span><br><span class="line">8130650  <span class="number"> 20 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo    <span class="number"> 17967 </span>Dec<span class="number"> 26 </span>23:02 ./hello/hello.i</span><br><span class="line"></span><br><span class="line">查找文件名为"hello"开头、且所有用户都有写权限的文件</span><br><span class="line">sunnogo@a3e420:~/test$ find . -name "hello*" -a -perm -a+w -ls</span><br><span class="line">8131706   <span class="number"> 4 </span>-rw-rw-rw-  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 1028 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello/hello.o</span><br><span class="line"></span><br><span class="line">查找文件名为"hello"开头、且不是所有用户都有写权限的文件</span><br><span class="line">sunnogo@a3e420:~/test$ find . -name "hello*" -a ! -perm -a+w -ls</span><br><span class="line">8130648   <span class="number"> 4 </span>drwxrwxr-x  <span class="number"> 2 </span>sunnogo  sunnogo     <span class="number"> 4096 </span>Dec<span class="number"> 20 </span>22:00 ./hello</span><br><span class="line">8127133   <span class="number"> 8 </span>-rwxrwxr-x  <span class="number"> 1 </span>sunnogo  sunnogo     <span class="number"> 7292 </span>Dec<span class="number"> 20 </span>22:00 ./hello/hello</span><br><span class="line">8130651   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 491 </span>Jul<span class="number"> 26 </span><span class="number"> 2013 </span>./hello/hello.s</span><br><span class="line">7219321   <span class="number"> 4 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo      <span class="number"> 104 </span>Jul<span class="number"> 24 </span><span class="number"> 2013 </span>./hello/hello.c</span><br><span class="line">8130650  <span class="number"> 20 </span>-rw-rw-r--  <span class="number"> 1 </span>sunnogo  sunnogo    <span class="number"> 17967 </span>Dec<span class="number"> 26 </span>23:02 ./hello/hello.i</span><br></pre></td></tr></table></figure>
<h2 id="对查找结果进行处理"><a href="#对查找结果进行处理" class="headerlink" title="对查找结果进行处理"></a>对查找结果进行处理</h2><p>即对查找的结果作为参数输入给其他命令。<br>有以下四种形式的格式，<code>\</code>只是个转义字符，为防止符号<code>;</code>或<code>+</code>在shell中有不同的含义。</p>
<ul>
<li><code>-exec command &quot;{}&quot; \;</code></li>
<li><code>-exec command &quot;{}&quot; \+</code></li>
<li><code>-execdir command &quot;{}&quot; \;</code></li>
<li><code>-execdir command &quot;{}&quot; \+</code></li>
</ul>
<p>目前尚不需理解命令参数结束符<code>;</code>与<code>+</code>的差异以及<code>exec</code>与<code>execdir</code>的差异。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test</span><span class="variable">$ </span>mkdir exec</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test</span><span class="variable">$ </span>cd exec</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>echo <span class="string">"abcdefg"</span> &gt; abc.txt</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>echo <span class="string">"xyzabc"</span> &gt; xyz.txt</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>echo <span class="string">"bcdefgh"</span> &gt; bcd.txt</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>mkdir exec_sub</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>cd exec_abc/</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec/exec_abc</span><span class="variable">$ </span>echo <span class="string">"abcdefghijkl"</span> &gt; bck.txt</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec/exec_abc</span><span class="variable">$ </span>cd ..</span><br><span class="line"></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>find . -name <span class="string">"*bc*"</span> </span><br><span class="line">./bcd.txt</span><br><span class="line">./exec_abc</span><br><span class="line">./exec_abc/bck.txt</span><br><span class="line">./abc.txt</span><br><span class="line"></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/exec</span><span class="variable">$ </span>find . -name <span class="string">"*bc*"</span> -exec cat <span class="string">"&#123;&#125;"</span> \+   </span><br><span class="line">bcdefgh</span><br><span class="line"><span class="symbol">cat:</span> ./<span class="symbol">exec_abc:</span> Is a directory</span><br><span class="line">abcdefghijkl</span><br><span class="line">abcdefg</span><br></pre></td></tr></table></figure>
<h2 id="按格式输出查找结果"><a href="#按格式输出查找结果" class="headerlink" title="按格式输出查找结果"></a>按格式输出查找结果</h2><p>使用<code>print</code>、<code>fprint</code>参数实现，相对的内容较多但是不重要，在此不详细，需要的同学使用<code>man find</code>看一下。</p>
<h2 id="使用正则表达式匹配文件名"><a href="#使用正则表达式匹配文件名" class="headerlink" title="使用正则表达式匹配文件名"></a>使用正则表达式匹配文件名</h2><p><code>-regex pattern</code>文件名可以用正则表达式匹配，这里不详述。</p>
<h2 id="其他参数"><a href="#其他参数" class="headerlink" title="其他参数"></a>其他参数</h2><p>还可以根据硬连接数、inode信息、owner信息等查找文件</p>
<h2 id="理解按时间查找文件中时间期间的含义"><a href="#理解按时间查找文件中时间期间的含义" class="headerlink" title="理解按时间查找文件中时间期间的含义"></a>理解按时间查找文件中时间期间的含义</h2><p>“查找在此前第[n-1, n]分钟的期间被访问的文件”，不好理解，先看下面的例子：</p>
<p>首先，查看文件hello.i的属性信息，发现access time是22:32:52</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sunnogo@a3e420:~/test/hello$</span> <span class="string">stat</span> <span class="string">hello.i</span> </span><br><span class="line"><span class="attr">  File:</span> <span class="string">‘hello.i’</span></span><br><span class="line"><span class="attr">  Size:</span> <span class="number">17967</span>           <span class="attr">Blocks:</span> <span class="number">40</span>         <span class="string">IO</span> <span class="attr">Block:</span> <span class="number">4096</span>   <span class="string">regular</span> <span class="string">file</span></span><br><span class="line"><span class="attr">Device:</span> <span class="number">805</span><span class="string">h/2053d</span>      <span class="attr">Inode:</span> <span class="number">8130650</span>     <span class="attr">Links:</span> <span class="number">1</span></span><br><span class="line"><span class="attr">Access:</span> <span class="string">(0664/-rw-rw-r--)</span>  <span class="attr">Uid:</span> <span class="string">(</span> <span class="number">1000</span><span class="string">/</span> <span class="string">sunnogo)</span>   <span class="attr">Gid:</span> <span class="string">(</span> <span class="number">1000</span><span class="string">/</span> <span class="string">sunnogo)</span></span><br><span class="line"><span class="attr">Access:</span> <span class="number">2014</span><span class="bullet">-12</span><span class="bullet">-26</span> <span class="number">22</span><span class="string">:32:52.248847993</span> <span class="string">+0800</span></span><br><span class="line"><span class="attr">Modify:</span> <span class="number">2014</span><span class="bullet">-12</span><span class="bullet">-26</span> <span class="number">22</span><span class="string">:32:50.072847903</span> <span class="string">+0800</span></span><br><span class="line"><span class="attr">Change:</span> <span class="number">2014</span><span class="bullet">-12</span><span class="bullet">-26</span> <span class="number">22</span><span class="string">:32:50.072847903</span> <span class="string">+0800</span></span><br><span class="line"><span class="attr"> Birth:</span> <span class="bullet">-</span></span><br></pre></td></tr></table></figure>
<p>其次，查看当前时间点，现在是22:57:38，距离hello.i的atime为24分钟46秒。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>date</span><br><span class="line">Fri Dec <span class="number">26</span> <span class="number">22</span><span class="symbol">:</span><span class="number">57</span><span class="symbol">:</span><span class="number">38</span> CST <span class="number">2014</span></span><br></pre></td></tr></table></figure>
<p>第三，看n值为24、25、26时<code>find . -amin n</code>的结果。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin <span class="number">25</span></span><br><span class="line">./hello.i</span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin <span class="number">24</span></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin <span class="number">26</span></span><br></pre></td></tr></table></figure>
<p>接下来看看<code>find . -amin 0</code>会不会显示未来时间。实际上最科学的方法是去查找find命令的代码实现，这里仅仅是玩一玩，验证自己觉得可能比较有趣的情况，无需较真。</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>date</span><br><span class="line">Fri Dec <span class="number">26</span> <span class="number">23</span><span class="symbol">:</span><span class="number">06</span><span class="symbol">:</span><span class="number">55</span> CST <span class="number">2014</span></span><br><span class="line"></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>touch -at <span class="number">12300000</span> hello.i </span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>stat hello.i | grep <span class="string">"Access: 2014"</span></span><br><span class="line"><span class="symbol">Access:</span> <span class="number">2014</span>-<span class="number">12</span>-<span class="number">30</span> <span class="number">00</span><span class="symbol">:</span><span class="number">00</span><span class="symbol">:</span><span class="number">00</span>.<span class="number">000000000</span> +080<span class="number">0</span></span><br><span class="line"></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span><span class="variable">$ </span>find . -amin <span class="number">0</span></span><br><span class="line">sunnogo<span class="variable">@a3e420</span><span class="symbol">:~/test/hello</span>$</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Written with <a href="https://stackedit.io/" target="_blank" rel="noopener">StackEdit</a>.</p>
</blockquote>

    </div>

    
    
    

    <footer class="post-footer">
          
        
        <div class="post-tags">
            <a href="/tags/Linux/" rel="tag"># Linux</a>
          
            <a href="/tags/文件系统/" rel="tag"># 文件系统</a>
          
        </div>
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
              <a href="/201412/shell/du.html" rel="next" title="Linux命令行查看目录及子目录大小 - du">
                <i class="fa fa-chevron-left"></i> Linux命令行查看目录及子目录大小 - du
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
              <a href="/201412/shell/df.html" rel="prev" title="Linux命令行查看磁盘空间使用情况 - df">
                Linux命令行查看磁盘空间使用情况 - df <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
    </footer>
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    
  <div class="comments" id="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
  


        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" src="/images/default_avatar.jpg" alt="sunnogo">
  <p class="site-author-name" itemprop="name">sunnogo</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">148</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">110</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/sunnogo" title="GitHub &rarr; https://github.com/sunnogo" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:sunnogo@gmail.com" title="E-Mail &rarr; mailto:sunnogo@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://stackoverflow.com/sunnogo" title="StackOverflow &rarr; https://stackoverflow.com/sunnogo" rel="noopener" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i>StackOverflow</a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#基础用法"><span class="nav-number">1.</span> <span class="nav-text">基础用法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#查找本目录下特定名称"><span class="nav-number">1.1.</span> <span class="nav-text">查找本目录下特定名称</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查找特定后缀的文件"><span class="nav-number">1.2.</span> <span class="nav-text">查找特定后缀的文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#查找模糊文件名的文件"><span class="nav-number">1.3.</span> <span class="nav-text">查找模糊文件名的文件</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#进阶用法"><span class="nav-number">2.</span> <span class="nav-text">进阶用法</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#按大小查找文件"><span class="nav-number">2.1.</span> <span class="nav-text">按大小查找文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#按权限查找文件"><span class="nav-number">2.2.</span> <span class="nav-text">按权限查找文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#按时间查找文件"><span class="nav-number">2.3.</span> <span class="nav-text">按时间查找文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#按文件类型查找文件"><span class="nav-number">2.4.</span> <span class="nav-text">按文件类型查找文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#多条件查找"><span class="nav-number">2.5.</span> <span class="nav-text">多条件查找</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对查找结果进行处理"><span class="nav-number">2.6.</span> <span class="nav-text">对查找结果进行处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#按格式输出查找结果"><span class="nav-number">2.7.</span> <span class="nav-text">按格式输出查找结果</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用正则表达式匹配文件名"><span class="nav-number">2.8.</span> <span class="nav-text">使用正则表达式匹配文件名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#其他参数"><span class="nav-number">2.9.</span> <span class="nav-text">其他参数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#理解按时间查找文件中时间期间的含义"><span class="nav-number">2.10.</span> <span class="nav-text">理解按时间查找文件中时间期间的含义</span></a></li></ol></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2015 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sunnogo</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.8.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> v7.3.0</div>

        








        
      </div>
    </footer>
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
      </div>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  <script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>

  
  <script src="/js/schemes/muse.js?v=7.3.0"></script>



  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>



  <script src="/js/next-boot.js?v=7.3.0"></script>

  

  

  


  























  <script src="/js/local-search.js?v=7.3.0"></script>













    
<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://sunyongfeng-com.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://sunyongfeng.com/201412/shell/find.html";
    this.page.identifier = "201412/shell/find.html";
    this.page.title = 'Linux命令行查找文件 - find';};
  function loadComments() {
    var d = document, s = d.createElement('script');
    s.src = 'https://sunyongfeng-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', '' + +new Date());
    (d.head || d.body).appendChild(s);
  }
    window.addEventListener('load', loadComments, false);
  
</script>


</body>
</html>
