<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Linux telnet 服务器调研 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Linux telnet 服务器调研、验证与分析。">
<meta name="keywords" content="telnet,telnetd,telnet 服务器,server,inetd,xinetd,openbsd-inetd,tcpd,tcp-wrapper,utelnetd">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux telnet 服务器调研">
<meta property="og:url" content="http://yoursite.com/2018/10/26/networks/telnet/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="Linux telnet 服务器调研、验证与分析。">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2019-04-17T09:58:07.076Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux telnet 服务器调研">
<meta name="twitter:description" content="Linux telnet 服务器调研、验证与分析。">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-networks/telnet" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/10/26/networks/telnet/" class="article-date">
  <time datetime="2018-10-26T08:03:55.000Z" itemprop="datePublished">2018-10-26</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/networks/">networks</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux telnet 服务器调研
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="linux-telnetd-分析"><a href="#linux-telnetd-分析" class="headerlink" title="linux telnetd 分析"></a>linux telnetd 分析</h2><p>Linux 发行版本视 telnet 为不安全工具，对 telnet 的支持比较差。<br>目前发行版主要使用 inetd (internet “super-server”) + telnetd 的形式，并没有独立的 telnet 服务器。一般只有在嵌入式系统中才有 telnet standalone 服务器。</p>
<ul>
<li><a href="https://packages.debian.org/jessie/telnetd" target="_blank" rel="noopener">telnetd</a>, 源码隶属 netkit-telnet <ul>
<li>xinetd + telnetd</li>
<li>openbsd-inetd + tcpd + telnetd</li>
</ul>
</li>
<li>standalone telnetd:<ul>
<li>utelnetd, <a href="https://wiki.gentoo.org/wiki/Utelnetd" target="_blank" rel="noopener">https://wiki.gentoo.org/wiki/Utelnetd</a>, 代码<a href="https://public.pengutronix.de/software/utelnetd/" target="_blank" rel="noopener">https://public.pengutronix.de/software/utelnetd/</a>, 用于 optware/gentoo 等。</li>
<li>busybox telnetd</li>
</ul>
</li>
</ul>
<p>优缺点分析：</p>
<ul>
<li>inetd + telnetd<ul>
<li>目前各大发行版本支持</li>
<li>正常情况下，可直接安装使用。目前在 ubuntu 上验证，即装即可用，但是在 debian jessie 上，不可用。下文详细介绍 fix 过程，fix 后 openbsd-inetd (debian 默认 inetd) + telnetd 可用。</li>
<li>不方便维护，除 telnetd，还需要引进 inetd，多一个故障点</li>
<li>多一个 inetd，多一个代码维护点</li>
</ul>
</li>
<li>standalone telnetd<ul>
<li>代码少，以 utelnetd 来讲，空行算进去，总的也才 600 多行。</li>
<li>相比 inetd + telnetd 方式，部署简单，方便维护。</li>
<li>busybox 的 telnetd 在整个 busybox 框架下，如果单独剥离出来，需要一定工作量。相比之下，utelnetd 很方便。</li>
</ul>
</li>
</ul>
<h3 id="关于-inetd"><a href="#关于-inetd" class="headerlink" title="关于 inetd"></a>关于 inetd</h3><p>网上推荐使用 xinetd，redhat 系用 xinetd 比较多。debian 系支持的比较少，像 update-inetd 就明确安装时就说明不完全支持 xinetd。</p>
<blockquote>
<pre><code>inetd listens for connections on certain internet sockets.  When a connection is found on one of its sockets, it decides what service the socket corresponds to, and invokes a program to service the request.  After the program is finished, it continues to listen on the socket (except in some cases which will be described below).  Essentially, inetd allows running one daemon to invoke several others, reducing load on the system.
</code></pre></blockquote>
<h2 id="utelnetd-验证"><a href="#utelnetd-验证" class="headerlink" title="utelnetd 验证"></a>utelnetd 验证</h2><p>验证可用。</p>
<p>验证 log:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">a@xxx:~$ sudo lsof -i:23 -n</span><br><span class="line">a@xxx:~$ sudo utelnetd -d</span><br><span class="line">telnetd: starting</span><br><span class="line">  port: 23; interface: any; login program: /bin/login</span><br><span class="line">a@xxx:~$ </span><br><span class="line">a@xxx:~$ sudo lsof -i:23 -n</span><br><span class="line">COMMAND    PID USER   FD   TYPE DEVICE SIZE/OFF NODE NAME</span><br><span class="line">utelnetd 27898 root    3u  IPv4 120819      0t0  TCP *:telnet (LISTEN)</span><br><span class="line">a@xxx:~$ </span><br><span class="line">a@xxx:~$ telnet localhost </span><br><span class="line">Trying 127.0.0.1...</span><br><span class="line">Connected to localhost.</span><br><span class="line">Escape character is &apos;^]&apos;.</span><br><span class="line">Debian GNU/Linux 8</span><br><span class="line">xxx login: a</span><br><span class="line">Password: </span><br><span class="line">Last login: Fri Oct 26 22:46:25 CST 2018 on pts/11</span><br><span class="line">Linux xxx 3.16.0-5-amd64 #1 SMP Debian 3.16.51-3+deb8u1 (2018-01-08) x86_64</span><br><span class="line"></span><br><span class="line">Unauthorized access and/or use are prohibited.</span><br><span class="line">All access and/or use are subject to monitoring.</span><br><span class="line"></span><br><span class="line">a@xxx:~$ ls</span><br><span class="line">libperl4-corelibs-perl_0.003-1_all.deb  tcpd                       utelnetd</span><br><span class="line">lsof_4.86+dfsg-1_amd64.deb              telnetd_0.17-41_amd64.deb</span><br><span class="line">a@xxx:~$ logout</span><br><span class="line">Connection closed by foreign host.</span><br></pre></td></tr></table></figure>
<h3 id="编译记录"><a href="#编译记录" class="headerlink" title="编译记录"></a>编译记录</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">jeromesun@km:~/workshop$ tar xvf utelnetd-0.1.11.tar.gz </span><br><span class="line">utelnetd-0.1.11/</span><br><span class="line">utelnetd-0.1.11/utelnetd.c</span><br><span class="line">utelnetd-0.1.11/LICENSE</span><br><span class="line">utelnetd-0.1.11/Makefile</span><br><span class="line">utelnetd-0.1.11/ChangeLog</span><br><span class="line">utelnetd-0.1.11/README</span><br><span class="line">jeromesun@km:~/workshop$ cd utelnetd-0.1.11/</span><br><span class="line">jeromesun@km:~/workshop/utelnetd-0.1.11$ make</span><br><span class="line">gcc -I. -pipe -DSHELLPATH=\&quot;/bin/login\&quot; -Wall -fomit-frame-pointer   -c -o utelnetd.o utelnetd.c</span><br><span class="line">utelnetd.c: In function ‘perror_msg_and_die’:</span><br><span class="line">utelnetd.c:160:2: warning: format not a string literal and no format arguments [-Wformat-security]</span><br><span class="line">  fprintf(stderr,text);</span><br><span class="line">  ^</span><br><span class="line">utelnetd.c: In function ‘make_new_session’:</span><br><span class="line">utelnetd.c:264:10: warning: variable ‘t2’ set but not used [-Wunused-but-set-variable]</span><br><span class="line">  int t1, t2;</span><br><span class="line">          ^</span><br><span class="line">utelnetd.c:264:6: warning: variable ‘t1’ set but not used [-Wunused-but-set-variable]</span><br><span class="line">  int t1, t2;</span><br><span class="line">      ^</span><br><span class="line">utelnetd.c: In function ‘main’:</span><br><span class="line">utelnetd.c:561:7: warning: pointer targets in passing argument 3 of ‘accept’ differ in signedness [-Wpointer-sign]</span><br><span class="line">       &amp;salen)) &lt; 0) &#123;</span><br><span class="line">       ^</span><br><span class="line">In file included from utelnetd.c:45:0:</span><br><span class="line">/usr/include/x86_64-linux-gnu/sys/socket.h:243:12: note: expected ‘socklen_t * restrict &#123;aka unsigned int * restrict&#125;’ but argument is of type ‘int *’</span><br><span class="line"> extern int accept (int __fd, __SOCKADDR_ARG __addr,</span><br><span class="line">            ^</span><br><span class="line">utelnetd.c:597:23: warning: pointer targets in passing argument 1 of ‘remove_iacs’ differ in signedness [-Wpointer-sign]</span><br><span class="line">     ptr = remove_iacs(ts-&gt;buf1 + ts-&gt;wridx1, maxlen, </span><br><span class="line">                       ^</span><br><span class="line">utelnetd.c:190:1: note: expected ‘unsigned char *’ but argument is of type ‘char *’</span><br><span class="line"> remove_iacs(unsigned char *bf, int len, int *processed, int *num_totty) &#123;</span><br><span class="line"> ^</span><br><span class="line">gcc  -I. -pipe -DSHELLPATH=\&quot;/bin/login\&quot; -Wall -fomit-frame-pointer utelnetd.o  -o utelnetd</span><br><span class="line">strip  --remove-section=.comment --remove-section=.note utelnetd</span><br><span class="line">jeromesun@km:~/workshop/utelnetd-0.1.11$ ls</span><br><span class="line">ChangeLog  LICENSE  Makefile  README  utelnetd  utelnetd.c  utelnetd.o</span><br><span class="line">jeromesun@km:~/workshop/utelnetd-0.1.11$ ls -al</span><br><span class="line">total 96</span><br><span class="line">drwxr-xr-x  2 jeromesun jeromesun  4096 10月 26 14:10 .</span><br><span class="line">drwxrwxr-x 17 jeromesun jeromesun  4096 10月 26 14:10 ..</span><br><span class="line">-rw-r--r--  1 jeromesun jeromesun  2545 8月  11  2008 ChangeLog</span><br><span class="line">-rw-r--r--  1 jeromesun jeromesun 17982 3月   6  2000 LICENSE</span><br><span class="line">-rw-r--r--  1 jeromesun jeromesun  1120 8月  11  2008 Makefile</span><br><span class="line">-rw-r--r--  1 jeromesun jeromesun   532 8月   8  2003 README</span><br><span class="line">-rwxrwxr-x  1 jeromesun jeromesun 18912 10月 26 14:10 utelnetd</span><br><span class="line">-rw-r--r--  1 jeromesun jeromesun 16430 8月   6  2003 utelnetd.c</span><br><span class="line">-rw-rw-r--  1 jeromesun jeromesun 14600 10月 26 14:10 utelnetd.o</span><br><span class="line">jeromesun@km:~/workshop/utelnetd-0.1.11$</span><br></pre></td></tr></table></figure>
<h2 id="openbsd-inetd-telnetd-验证"><a href="#openbsd-inetd-telnetd-验证" class="headerlink" title="openbsd-inetd + telnetd 验证"></a>openbsd-inetd + telnetd 验证</h2><p>在 debian jessie 上验证。<br>虽然不用，但是存档。</p>
<h3 id="问题分析"><a href="#问题分析" class="headerlink" title="问题分析"></a>问题分析</h3><p>问题现象：telnet 客户端在几秒钟后自行退出。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[20181026-091148.403]a@xxx:~$ telnet localhost</span><br><span class="line">[20181026-091148.436]Trying 127.0.0.1...</span><br><span class="line">[20181026-091148.443]Connected to localhost.</span><br><span class="line">[20181026-091148.444]Escape character is &apos;^]&apos;.</span><br><span class="line">[20181026-091149.726]</span><br><span class="line">[20181026-091153.446]Connection closed by foreign host.</span><br></pre></td></tr></table></figure>
<p>log 分析:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Oct 26 18:17:42 xxx in.telnetd[4140]: connect from 127.0.0.1 (127.0.0.1)</span><br><span class="line">Oct 26 18:17:42 xxx in.telnetd[4140]: error: cannot execute : No such file or directory</span><br></pre></td></tr></table></figure>
<p>下载 telnetd 源码，grep 并没有发现文件有 <code>cannot execute</code> 的字样。<br>进一步下载 tcp-wrapper 和 openbsd-inetd 源码，发现该 log 在 <code>tcp-wrappers/tcpd.c</code> 中。应该是入参有问题，</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">main(argc, argv)</span><br><span class="line"><span class="keyword">int</span>     argc;</span><br><span class="line"><span class="keyword">char</span>  **argv;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">request_info</span> <span class="title">request</span>;</span></span><br><span class="line">    <span class="keyword">char</span>    path[MAXPATHNAMELEN];</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* Attempt to prevent the creation of world-writable files. */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> DAEMON_UMASK</span></span><br><span class="line">    umask(DAEMON_UMASK);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     * If argv[0] is an absolute path name, ignore REAL_DAEMON_DIR, and strip</span></span><br><span class="line"><span class="comment">     * argv[0] to its basename.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (argv[<span class="number">0</span>][<span class="number">0</span>] == <span class="string">'/'</span>) &#123;</span><br><span class="line">	<span class="built_in">strcpy</span>(path, argv[<span class="number">0</span>]);</span><br><span class="line">	argv[<span class="number">0</span>] = <span class="built_in">strrchr</span>(argv[<span class="number">0</span>], <span class="string">'/'</span>) + <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	<span class="built_in">sprintf</span>(path, <span class="string">"%s/%s"</span>, REAL_DAEMON_DIR, argv[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">...</span><br><span class="line">    <span class="comment">/* Report request and invoke the real daemon program. */</span></span><br><span class="line"></span><br><span class="line">    syslog(allow_severity, <span class="string">"connect from %s"</span>, eval_client(&amp;request));</span><br><span class="line">    closelog();</span><br><span class="line">    (<span class="keyword">void</span>) execv(path, argv);</span><br><span class="line">    syslog(LOG_ERR, <span class="string">"error: cannot execute %s: %m"</span>, path);  &lt;---- 这时异常退出，关于 %m The ‘%m’ conversion prints the <span class="built_in">string</span> corresponding to the error code in errno. https:<span class="comment">//stackoverflow.com/questions/20577557/whats-the-meaning-of-the-m-formatting-specifier .</span></span><br><span class="line">    clean_exit(&amp;request);</span><br><span class="line">    <span class="comment">/* NOTREACHED */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>改下代码，把所有的 argv 打出来:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Oct 26 18:17:42 xxx in.telnetd[4140]: argc 0</span><br><span class="line">Oct 26 18:17:42 xxx in.telnetd[4140]: 0: argv in.telnetd</span><br><span class="line">Oct 26 18:17:42 xxx in.telnetd[4140]: connect from 127.0.0.1 (127.0.0.1)</span><br><span class="line">Oct 26 18:17:42 xxx in.telnetd[4140]: error: cannot execute : No such file or directory</span><br></pre></td></tr></table></figure>
<p>发现入参是 in.telnetd，不是 <code>/etc/inetd.conf</code> 中写的 <code>/usr/sbin/in.telnetd</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">telnet          stream  tcp     nowait  telnetd /usr/sbin/tcpd  /usr/sbin/in.telnetd</span><br></pre></td></tr></table></figure>
<p>有点奇怪:</p>
<ul>
<li>openbsd-inetd 执行 telnet 服务时，执行的是什么命令</li>
<li>即使 openbsd-inetd 执行时，以 in.telnetd 直接传入，<code>REAL_DAEMON_DIR</code> 在编译时也有定义，应该有值才对。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cc -g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -DFACILITY=LOG_DAEMON -DHOSTS_ACCESS  -DNETGROUP    -DDAEMON_UMASK=022 -DREAL_DAEMON_DIR=\&quot;/usr/sbin\&quot; -DPROCESS_OPTIONS -DACLEXEC -DKILL_IP_OPTIONS -DSEVERITY=LOG_INFO    -DRFC931_TIMEOUT=10  -DHOSTS_DENY=\&quot;/etc/hosts.deny\&quot; -DHOSTS_ALLOW=\&quot;/etc/hosts.allow\&quot;   -DSYS_ERRLIST_DEFINED -DHAVE_STRERROR -DHAVE_WEAKSYMS -DINET6=1 -Dss_family=__ss_family -Dss_len=__ss_len    -o tcpd.o -c tcpd.c</span><br></pre></td></tr></table></figure>
<p>先不管了，直接改 tcpd.c 的代码，将所有 telnet 服务的入参强制变成 /usr/sbin/in.telnet:</p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--- &lt;unnamed&gt;</span></span><br><span class="line"><span class="comment">+++ &lt;unnamed&gt;</span></span><br><span class="line"><span class="meta">@@ -77,6 +77,11 @@</span></span><br><span class="line">     (void) openlog(argv[0], LOG_PID);</span><br><span class="line"> #endif</span><br><span class="line"> </span><br><span class="line"><span class="addition">+    int i;</span></span><br><span class="line"><span class="addition">+    syslog(LOG_ERR, "argc %d", i);</span></span><br><span class="line"><span class="addition">+    for (i = 0; i &lt; argc; i++) &#123;</span></span><br><span class="line"><span class="addition">+        syslog(LOG_ERR, "%d: argv %s", i, argv[i]);</span></span><br><span class="line"><span class="addition">+    &#125;</span></span><br><span class="line">     /*</span><br><span class="line">      * Find out the endpoint addresses of this conversation. Host name</span><br><span class="line">      * lookups and double checks will be done on demand.</span><br><span class="line"><span class="meta">@@ -125,6 +130,13 @@</span></span><br><span class="line">            eval_client(&amp;request), eval_hostaddr(request.client));</span><br><span class="line"> #else</span><br><span class="line">     syslog(allow_severity, "connect from %s", eval_client(&amp;request));</span><br><span class="line"><span class="addition">+#endif</span></span><br><span class="line"><span class="addition">+    if (strcmp(argv[0], "in.telnetd") == 0) &#123;</span></span><br><span class="line"><span class="addition">+        syslog(LOG_ERR, "path before change: path %s, argv %s", path, argv[0]);</span></span><br><span class="line"><span class="addition">+        strcpy(path, "/usr/sbin/in.telnetd");</span></span><br><span class="line"><span class="addition">+        syslog(LOG_ERR, "path after change: path %s, argv %s", path, argv[0]);</span></span><br><span class="line"><span class="addition">+    &#125;</span></span><br><span class="line"><span class="addition">+</span></span><br><span class="line">     closelog();</span><br><span class="line">     (void) execv(path, argv);</span><br><span class="line">     syslog(LOG_ERR, "error: cannot execute %s: %m", path);</span><br></pre></td></tr></table></figure>
<p>修改后正常:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[20181026-142113.815][jeromesun@64 ~]$ telnet 192.168.3.31</span><br><span class="line">[20181026-142113.815]Trying 192.168.3.31...</span><br><span class="line">[20181026-142113.816]Connected to 192.168.3.31.</span><br><span class="line">[20181026-142113.817]Escape character is &apos;^]&apos;.</span><br><span class="line">[20181026-142122.726]</span><br><span class="line">[20181026-142133.853]Debian GNU/Linux 8 &lt;---- 过了 20 秒才进来，看这个时间很像进行 dns 解析 timeout 了</span><br><span class="line">[20181026-142133.892]</span><br><span class="line">[20181026-142137.023]xxx login: a</span><br><span class="line">[20181026-142137.352]Password: </span><br><span class="line">[20181026-142137.368]Last login: Fri Oct 26 19:46:52 CST 2018 from 11.1.1.99 on pts/10</span><br><span class="line">[20181026-142137.698]Linux xxx 3.16.0-5-amd64 #1 SMP Debian 3.16.51-3+deb8u1 (2018-01-08) x86_64</span><br><span class="line">[20181026-142137.700]Unauthorized access and/or use are prohibited.</span><br><span class="line">[20181026-142137.700]All access and/or use are subject to monitoring.</span><br><span class="line">[20181026-142137.700]</span><br><span class="line">[20181026-142138.494]a@xxx:~$ </span><br><span class="line">[20181026-142200.714]a@xxx:~$ show version</span><br><span class="line">[20181026-142201.869]Distribution: Debian 8.11</span><br><span class="line">[20181026-142201.869]Kernel: 3.16.0-5-amd64</span><br><span class="line">[20181026-142201.870]Build commit: 62a9f38</span><br><span class="line">[20181026-142201.870]Build date: Thu Oct 25 20:56:07 CST 2018</span><br><span class="line">...</span><br><span class="line">[20181026-142202.045]</span><br><span class="line">[20181026-142202.575]a@xxx:~$ </span><br><span class="line">[20181026-142203.202]telnet&gt; q</span><br><span class="line">[20181026-142203.203]Connection closed.</span><br><span class="line">[20181026-142203.579][jeromesun@64 ~]$</span><br></pre></td></tr></table></figure>
<h3 id="编译记录-1"><a href="#编译记录-1" class="headerlink" title="编译记录"></a>编译记录</h3><p>在源码根目录，执行 <code>dpkg-buildpackage -rfakeroot -b -us -uc -nc --as-root -Tbinary</code> 进行编译。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">jeromesun@km:~/tcp-wrappers-7.6.q$ rm tcpd</span><br><span class="line">jeromesun@km:~/tcp-wrappers-7.6.q$ rm tcpd.o </span><br><span class="line">jeromesun@km:~/tcp-wrappers-7.6.q$ rm debian/.stamp-build </span><br><span class="line">jeromesun@km:~/tcp-wrappers-7.6.q$ dpkg-buildpackage -rfakeroot -b -us -uc -nc --as-root -Tbinary</span><br><span class="line">dpkg-buildpackage: source package tcp-wrappers</span><br><span class="line">dpkg-buildpackage: source version 7.6.q-25</span><br><span class="line">dpkg-buildpackage: source distribution unstable</span><br><span class="line">dpkg-buildpackage: source changed by Marco d&apos;Itri &lt;md@linux.it&gt;</span><br><span class="line">dpkg-buildpackage: host architecture amd64</span><br><span class="line"> fakeroot debian/rules binary</span><br><span class="line">dh_testdir</span><br><span class="line">/usr/bin/make  COPTS=&quot;-g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2&quot; LDOPTS=&quot;-Wl,-Bsymbolic-functions -Wl,-z,relro&quot; linux</span><br><span class="line">make[1]: Entering directory &apos;/home/jeromesun/tcp-wrappers-7.6.q&apos;</span><br><span class="line">make[2]: Entering directory &apos;/home/jeromesun/tcp-wrappers-7.6.q&apos;</span><br><span class="line">cc -g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -DFACILITY=LOG_DAEMON -DHOSTS_ACCESS  -DNETGROUP    -DDAEMON_UMASK=022 -DREAL_DAEMON_DIR=\&quot;/usr/sbin\&quot; -DPROCESS_OPTIONS -DACLEXEC -DKILL_IP_OPTIONS -DSEVERITY=LOG_INFO    -DRFC931_TIMEOUT=10  -DHOSTS_DENY=\&quot;/etc/hosts.deny\&quot; -DHOSTS_ALLOW=\&quot;/etc/hosts.allow\&quot;   -DSYS_ERRLIST_DEFINED -DHAVE_STRERROR -DHAVE_WEAKSYMS -DINET6=1 -Dss_family=__ss_family -Dss_len=__ss_len    -o tcpd.o -c tcpd.c</span><br><span class="line">tcpd.c:44:1: warning: return type defaults to ‘int’ [-Wimplicit-int]</span><br><span class="line"> main(argc, argv)</span><br><span class="line"> ^</span><br><span class="line">tcpd.c: In function ‘main’:</span><br><span class="line">tcpd.c:112:5: warning: implicit declaration of function ‘fix_options’ [-Wimplicit-function-declaration]</span><br><span class="line">     fix_options(&amp;request);</span><br><span class="line">     ^</span><br><span class="line">tcpd.c:141:12: warning: implicit declaration of function ‘execv’ [-Wimplicit-function-declaration]</span><br><span class="line">     (void) execv(path, argv);</span><br><span class="line">            ^</span><br><span class="line">cc -g -O2 -fstack-protector-strong -Wformat -Werror=format-security -Wdate-time -D_FORTIFY_SOURCE=2 -DFACILITY=LOG_DAEMON -DHOSTS_ACCESS  -DNETGROUP    -DDAEMON_UMASK=022 -DREAL_DAEMON_DIR=\&quot;/usr/sbin\&quot; -DPROCESS_OPTIONS -DACLEXEC -DKILL_IP_OPTIONS -DSEVERITY=LOG_INFO    -DRFC931_TIMEOUT=10  -DHOSTS_DENY=\&quot;/etc/hosts.deny\&quot; -DHOSTS_ALLOW=\&quot;/etc/hosts.allow\&quot;   -DSYS_ERRLIST_DEFINED -DHAVE_STRERROR -DHAVE_WEAKSYMS -DINET6=1 -Dss_family=__ss_family -Dss_len=__ss_len    -Wl,-Bsymbolic-functions -Wl,-z,relro -o tcpd tcpd.o -Lshared -lwrap</span><br><span class="line">make[2]: Leaving directory &apos;/home/jeromesun/tcp-wrappers-7.6.q&apos;</span><br><span class="line">make[1]: Leaving directory &apos;/home/jeromesun/tcp-wrappers-7.6.q&apos;</span><br><span class="line">touch debian/.stamp-build</span><br><span class="line">test root = &quot;`whoami`&quot;</span><br><span class="line">dh_testdir</span><br><span class="line">dh_prep</span><br><span class="line">dh_installdirs</span><br><span class="line">dh_install</span><br><span class="line">dh_installdocs --link-doc=libwrap0</span><br><span class="line">dh_installdocs -p libwrap0 README</span><br><span class="line">dh_installchangelogs CHANGES</span><br><span class="line">dh_installman -p tcpd *.8</span><br><span class="line">dh_installman -p libwrap0 *.5</span><br><span class="line">dh_installman -p libwrap0-dev *.3</span><br><span class="line">dh_link</span><br><span class="line">mkdir -p /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0/lib/x86_64-linux-gnu/ /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0-dev/usr/lib/x86_64-linux-gnu/</span><br><span class="line">cp shared/libwrap.so.0.7.6 /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0/lib/x86_64-linux-gnu/</span><br><span class="line">ln -s libwrap.so.0.7.6 /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0/lib/x86_64-linux-gnu/libwrap.so.0</span><br><span class="line">ln -s /lib/x86_64-linux-gnu/libwrap.so.0 \</span><br><span class="line">        /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0-dev/usr/lib/x86_64-linux-gnu/libwrap.so</span><br><span class="line">mv /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0-dev/usr/lib/libwrap.a /home/jeromesun/tcp-wrappers-7.6.q/debian/libwrap0-dev/usr/lib/x86_64-linux-gnu/</span><br><span class="line">dh_link</span><br><span class="line">dh_strip</span><br><span class="line">dh_compress</span><br><span class="line">dh_fixperms</span><br><span class="line">dh_installdebconf</span><br><span class="line">dh_makeshlibs -- -c4</span><br><span class="line">dh_installdeb</span><br><span class="line">dh_shlibdeps</span><br><span class="line">dh_gencontrol</span><br><span class="line">dh_md5sums</span><br><span class="line">dh_builddeb</span><br><span class="line">dpkg-deb: building package &apos;tcpd&apos; in &apos;../tcpd_7.6.q-25_amd64.deb&apos;.</span><br><span class="line">dpkg-deb: building package &apos;libwrap0&apos; in &apos;../libwrap0_7.6.q-25_amd64.deb&apos;.</span><br><span class="line">dpkg-deb: building package &apos;libwrap0-dev&apos; in &apos;../libwrap0-dev_7.6.q-25_amd64.deb&apos;.</span><br><span class="line">jeromesun@km:~/tcp-wrappers-7.6.q$</span><br></pre></td></tr></table></figure>
<h2 id="xinetd-telnetd"><a href="#xinetd-telnetd" class="headerlink" title="xinetd + telnetd"></a>xinetd + telnetd</h2><p>在 debian jessie 上验证。未成功。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/10/26/networks/telnet/" data-id="cjz95gt3l00dyw5r92usav8p8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/networks/">networks</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/telnet/">telnet</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/01/programmer/tools/scrt_note/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          SecureCRT 使用记录
        
      </div>
    </a>
  
  
    <a href="/2018/10/24/shell/string/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Linux shell 字符串处理</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/administrator/">administrator</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/docker/">docker</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/dokuwiki/">dokuwiki</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/kernel/">kernel</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/life/">life</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/misc/">misc</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/networks/">networks</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/newTech/">newTech</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/p4/">p4</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/programmer/">programmer</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/python/">python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/redis/">redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/shell/">shell</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools/">tools</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/tools-administrator/">tools, administrator</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/windows/">windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/yocto/">yocto</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/思考/">思考</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARP/">ARP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CPU/">CPU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Excel/">Excel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GDB/">GDB</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/L2/">L2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MTU/">MTU</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NOS/">NOS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SecureCRT/">SecureCRT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/administrator/">administrator</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/app/">app</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/apt/">apt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arm/">arm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/arp/">arp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/c/">c</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cable/">cable</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/centos/">centos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clock/">clock</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/compile/">compile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/configure/">configure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coredump/">coredump</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dataplane/">dataplane</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/deb/">deb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/debian/">debian</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/discourse/">discourse</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dokuwiki/">dokuwiki</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dos/">dos</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/elementary/">elementary</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fcitx/">fcitx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gcc/">gcc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gnome-terminal/">gnome-terminal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grub/">grub</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/int/">int</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kconfig/">kconfig</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kernel/">kernel</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lib/">lib</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/libteam/">libteam</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/makefile/">makefile</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mirror/">mirror</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/misc/">misc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/moinmoin/">moinmoin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nat/">nat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/network/">network</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/networks/">networks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/openswitch/">openswitch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/p4/">p4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/packet/">packet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/paper/">paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/perf/">perf</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pip/">pip</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ppp/">ppp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pppoe-networks/">pppoe networks</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/profiling/">profiling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/programmer/">programmer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/quagga/">quagga</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redhat/">redhat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpc/">rpc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpm/">rpm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/scp/">scp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/serialport/">serialport</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/server/">server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/software/">software</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ssh/">ssh</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sshd/">sshd</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/svn/">svn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/telnet/">telnet</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/terminal/">terminal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time/">time</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tuntap/">tuntap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/">ubuntu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vagrant/">vagrant</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/veth/">veth</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/virtualBox/">virtualBox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vlc/">vlc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vnc/">vnc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiki/">wiki</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/windows/">windows</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wine/">wine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wireshark/">wireshark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wps/">wps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xterm/">xterm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yocto/">yocto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/串口/">串口</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/交叉编译/">交叉编译</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/交换机/">交换机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内存管理/">内存管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/外面的世界/">外面的世界</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符流操作/">字符流操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思考/">思考</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据结构/">数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件共享/">文件共享</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件系统/">文件系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/新技术点/">新技术点</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/版本控制/">版本控制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/磁盘管理/">磁盘管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络测试/">网络测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟机/">虚拟机</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/调试/">调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/路由协议/">路由协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/进程/">进程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/远程登录/">远程登录</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARP/" style="font-size: 10px;">ARP</a> <a href="/tags/CPU/" style="font-size: 10px;">CPU</a> <a href="/tags/Excel/" style="font-size: 10px;">Excel</a> <a href="/tags/GDB/" style="font-size: 10px;">GDB</a> <a href="/tags/L2/" style="font-size: 10px;">L2</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MTU/" style="font-size: 10px;">MTU</a> <a href="/tags/NOS/" style="font-size: 10px;">NOS</a> <a href="/tags/SecureCRT/" style="font-size: 11.82px;">SecureCRT</a> <a href="/tags/administrator/" style="font-size: 17.27px;">administrator</a> <a href="/tags/app/" style="font-size: 10px;">app</a> <a href="/tags/apt/" style="font-size: 10.91px;">apt</a> <a href="/tags/arm/" style="font-size: 10px;">arm</a> <a href="/tags/arp/" style="font-size: 10px;">arp</a> <a href="/tags/c/" style="font-size: 16.36px;">c</a> <a href="/tags/cable/" style="font-size: 10px;">cable</a> <a href="/tags/centos/" style="font-size: 10px;">centos</a> <a href="/tags/clock/" style="font-size: 10px;">clock</a> <a href="/tags/compile/" style="font-size: 10.91px;">compile</a> <a href="/tags/configure/" style="font-size: 10px;">configure</a> <a href="/tags/coredump/" style="font-size: 10px;">coredump</a> <a href="/tags/dataplane/" style="font-size: 10px;">dataplane</a> <a href="/tags/deb/" style="font-size: 13.64px;">deb</a> <a href="/tags/debian/" style="font-size: 10.91px;">debian</a> <a href="/tags/discourse/" style="font-size: 10px;">discourse</a> <a href="/tags/docker/" style="font-size: 10.91px;">docker</a> <a href="/tags/dokuwiki/" style="font-size: 12.73px;">dokuwiki</a> <a href="/tags/dos/" style="font-size: 10px;">dos</a> <a href="/tags/elementary/" style="font-size: 10px;">elementary</a> <a href="/tags/fcitx/" style="font-size: 10px;">fcitx</a> <a href="/tags/gcc/" style="font-size: 10px;">gcc</a> <a href="/tags/git/" style="font-size: 15.45px;">git</a> <a href="/tags/gnome-terminal/" style="font-size: 10px;">gnome-terminal</a> <a href="/tags/grub/" style="font-size: 10px;">grub</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/int/" style="font-size: 10.91px;">int</a> <a href="/tags/java/" style="font-size: 10px;">java</a> <a href="/tags/kconfig/" style="font-size: 10px;">kconfig</a> <a href="/tags/kernel/" style="font-size: 11.82px;">kernel</a> <a href="/tags/lib/" style="font-size: 10px;">lib</a> <a href="/tags/libteam/" style="font-size: 10px;">libteam</a> <a href="/tags/linux/" style="font-size: 13.64px;">linux</a> <a href="/tags/makefile/" style="font-size: 10px;">makefile</a> <a href="/tags/mirror/" style="font-size: 10px;">mirror</a> <a href="/tags/misc/" style="font-size: 11.82px;">misc</a> <a href="/tags/moinmoin/" style="font-size: 10px;">moinmoin</a> <a href="/tags/nat/" style="font-size: 10px;">nat</a> <a href="/tags/network/" style="font-size: 10px;">network</a> <a href="/tags/networks/" style="font-size: 14.55px;">networks</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/openswitch/" style="font-size: 10.91px;">openswitch</a> <a href="/tags/p4/" style="font-size: 14.55px;">p4</a> <a href="/tags/packet/" style="font-size: 10.91px;">packet</a> <a href="/tags/paper/" style="font-size: 10px;">paper</a> <a href="/tags/perf/" style="font-size: 10px;">perf</a> <a href="/tags/pip/" style="font-size: 10px;">pip</a> <a href="/tags/ppp/" style="font-size: 10px;">ppp</a> <a href="/tags/pppoe-networks/" style="font-size: 10px;">pppoe networks</a> <a href="/tags/profiling/" style="font-size: 10px;">profiling</a> <a href="/tags/programmer/" style="font-size: 10px;">programmer</a> <a href="/tags/python/" style="font-size: 13.64px;">python</a> <a href="/tags/quagga/" style="font-size: 10px;">quagga</a> <a href="/tags/redhat/" style="font-size: 10px;">redhat</a> <a href="/tags/redis/" style="font-size: 10.91px;">redis</a> <a href="/tags/rpc/" style="font-size: 10px;">rpc</a> <a href="/tags/rpm/" style="font-size: 10px;">rpm</a> <a href="/tags/scp/" style="font-size: 10px;">scp</a> <a href="/tags/serialport/" style="font-size: 10.91px;">serialport</a> <a href="/tags/server/" style="font-size: 10px;">server</a> <a href="/tags/software/" style="font-size: 10px;">software</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/sshd/" style="font-size: 10px;">sshd</a> <a href="/tags/svn/" style="font-size: 10.91px;">svn</a> <a href="/tags/telnet/" style="font-size: 10px;">telnet</a> <a href="/tags/terminal/" style="font-size: 10px;">terminal</a> <a href="/tags/time/" style="font-size: 10px;">time</a> <a href="/tags/tuntap/" style="font-size: 10px;">tuntap</a> <a href="/tags/ubuntu/" style="font-size: 19.09px;">ubuntu</a> <a href="/tags/vagrant/" style="font-size: 10px;">vagrant</a> <a href="/tags/veth/" style="font-size: 10px;">veth</a> <a href="/tags/vim/" style="font-size: 11.82px;">vim</a> <a href="/tags/virtualBox/" style="font-size: 10px;">virtualBox</a> <a href="/tags/vlc/" style="font-size: 10px;">vlc</a> <a href="/tags/vnc/" style="font-size: 10px;">vnc</a> <a href="/tags/wiki/" style="font-size: 10px;">wiki</a> <a href="/tags/windows/" style="font-size: 12.73px;">windows</a> <a href="/tags/wine/" style="font-size: 10px;">wine</a> <a href="/tags/wireshark/" style="font-size: 10px;">wireshark</a> <a href="/tags/wps/" style="font-size: 10px;">wps</a> <a href="/tags/xterm/" style="font-size: 10px;">xterm</a> <a href="/tags/yocto/" style="font-size: 10.91px;">yocto</a> <a href="/tags/串口/" style="font-size: 10.91px;">串口</a> <a href="/tags/交叉编译/" style="font-size: 10px;">交叉编译</a> <a href="/tags/交换机/" style="font-size: 10px;">交换机</a> <a href="/tags/内存管理/" style="font-size: 10px;">内存管理</a> <a href="/tags/外面的世界/" style="font-size: 10px;">外面的世界</a> <a href="/tags/字符流操作/" style="font-size: 10.91px;">字符流操作</a> <a href="/tags/思考/" style="font-size: 10.91px;">思考</a> <a href="/tags/数据结构/" style="font-size: 10px;">数据结构</a> <a href="/tags/文件共享/" style="font-size: 10px;">文件共享</a> <a href="/tags/文件系统/" style="font-size: 18.18px;">文件系统</a> <a href="/tags/新技术点/" style="font-size: 10px;">新技术点</a> <a href="/tags/版本控制/" style="font-size: 15.45px;">版本控制</a> <a href="/tags/磁盘管理/" style="font-size: 10px;">磁盘管理</a> <a href="/tags/网络测试/" style="font-size: 12.73px;">网络测试</a> <a href="/tags/虚拟机/" style="font-size: 10px;">虚拟机</a> <a href="/tags/调试/" style="font-size: 10px;">调试</a> <a href="/tags/路由协议/" style="font-size: 10px;">路由协议</a> <a href="/tags/进程/" style="font-size: 10px;">进程</a> <a href="/tags/远程登录/" style="font-size: 12.73px;">远程登录</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/02/">February 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/11/">November 2013</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/07/23/misc/screen_too_bright/">屏幕太“亮”看不清灰色部分</a>
          </li>
        
          <li>
            <a href="/2019/03/25/linux/elementaryos/">elementary OS 使用记录</a>
          </li>
        
          <li>
            <a href="/2019/01/31/tools/git_cmd/">一些常见的 git 命令备忘</a>
          </li>
        
          <li>
            <a href="/2019/01/24/networks/rpc.rpc_poll.rpc_streaming/">图解 rpc rpc_poll 和 rpc_streaming 的差异</a>
          </li>
        
          <li>
            <a href="/2018/11/01/programmer/tools/kconfig-frontends/">kconfig-frontends 简介</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>